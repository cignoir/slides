# テストについて

@cignoir

---

# テスト駆動開発の話ではない
- 短いイテレーションにおいてどうテストを計画して実践するか
- 非開発者向け

---

## 結論
### このスライドで伝えたいことは2つ

- テストは難しいということ
- フリーデバッグ != 回帰テスト

---

## 略歴

- ネットに生まれてネットでつながる会社育ち
 - 「テストコードを書かないやつは死ね」な環境
 - 自動テスト1回 7時間
 - アジャイル・ペアプロ・テスト駆動開発を実践

- ゲームサーバ開発時代
 - テスト駆動開発(BDD)

---

## ワークフローの例

- ◯◯という機能を実装
- 仕様を満たしてるかテスト
- ◯◯に修正を加えたので周辺の機能をテスト

※1週間周期で

---

# 素晴らしい

問題は1つだけ

---

# 完遂不能

---

## テストの種類(一部)

- 機能テスト
- 性能テスト
- ホワイトボックステスト
- ブラックボックステスト
- 単体テスト
- アルファテスト、ベータテスト
- 回帰テスト

---

## ワークフローの例

- ◯◯という機能を実装
- 仕様を満たしているかテスト
- 周辺の機能をテスト

---

## ワークフローの例

- ◯◯という機能を実装
- 仕様を満たしているかテスト→```機能テスト```
- 周辺の機能をテスト→```回帰テスト```

---

## 機能テスト…
## 回帰テスト…

？？？

---

## 機能テスト(function test)

- 機能が仕様を満たしているかのテスト
- テストケースが少ないが前例がないバグが出やすい

- 追加キャラ、追加スキルなど差分の機能のテストなど

---

## 回帰テスト（regression test）

- 過去に行ったテストが再度パスするかどうかを確認するテスト
- 実際に見つかるリリース後のバグはほとんどがデグレ
- テストケースが膨大

---

## フリーデバッグ != 回帰テスト


個人の経験と勘でどうにか出来るスケールではない。

難しいので、方針を明確にしてテストの計画を立てる必要がある

---

## 回帰テストが難しい理由

- テストケースが膨大（数千件～)で2, 3日で網羅するのは不可能
- 修正の度にバグが混入する可能性があるためいつやるかが難しい
- Fixしてからでないと二度手間三度手間になる

---

## 回帰テストが難しい理由
### どうするか

- テストケースが膨大
 - 範囲を限定する
 - 修正の入った機能に関連するテストケースを抽出

---

## いつやるか

Fixまで回帰テストをしない ＝ 最強

とは言え、リリース前日までFixしない現実もある

- Fixしてる機能だけを抽出
- 関連するテストケースを抽出して範囲を限定してテスト
- Fixしてない機能は後回し

---

### テストケースの蓄積・管理が重要
- 個人の勘や経験に頼らない仕組み＝拡張可能な組織
- 新人テスターでもテスト計画に従ってテスト可能にする

---

## フリーデバッグ != 回帰テスト

- 目的は似ているが別物
- 回帰テストは計画的に行う必要がある

---

## まとめ
- 新機能のテストと過去のテストケースのテストを分けて計画が出来ているか
- 特定の機能に関連する過去のテストケースを抽出出来るようになっているか
- 新人テスターでも計画に沿ってテストが出来るようになっているか
- 特定のテスターにしか出来ないことが存在しないか

---

# end
